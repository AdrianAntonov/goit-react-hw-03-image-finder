{"version":3,"sources":["components/Searchbar/Searchbar.js","components/Button/Button.js","components/Modal/Modal.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","App.js","index.js"],"names":["Searchbar","state","inputValue","handleOnSubmit","e","trim","preventDefault","props","onSubmit","setState","alert","handleChange","target","value","className","this","type","autoComplete","autoFocus","placeholder","onChange","Component","Button","handleClick","data","onClick","modalRoot","document","querySelector","Modal","handleCloseModal","code","onClose","handleOverlayClose","currentTarget","window","addEventListener","removeEventListener","createPortal","children","ImageGalleryItem","modal","toglleModal","handleModal","id","modalPicture","picture","src","alt","KEY","ImageGallery","images","page","scroll","error","status","fetchingData","axios","get","searchValue","then","response","hits","length","prevState","loading","handleScroll","catch","scrollTo","top","documentElement","scrollHeight","behavior","handleButton","prevProps","color","height","width","timeout","map","item","webformatURL","largeImageURL","App","text","handleSearchbarInput","arg","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6fee4d95.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport '../styles.css';\n\nclass Searchbar extends Component {\n  state = {\n    inputValue: '',\n  };\n\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  handleOnSubmit = e => {\n    if (this.state.inputValue.trim() === '') {\n      alert('Wrong input!');\n      return;\n    }\n    e.preventDefault();\n    this.props.onSubmit(this.state.inputValue);\n    this.setState({ inputValue: '' });\n  };\n\n  handleChange = e => {\n    this.setState({ inputValue: e.target.value });\n  };\n\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleOnSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            value={this.state.inputValue}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nexport class Button extends Component {\n  static propTypes = {\n    data: PropTypes.func.isRequired,\n  };\n\n  handleClick = () => {\n    this.props.data();\n  };\n  render() {\n    return (\n      <button className=\"Button\" onClick={this.handleClick}>\n        Load More\n      </button>\n    );\n  }\n}\n\nexport default Button;\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  static propTypes = {\n    onClose: PropTypes.func.isRequired,\n    children: PropTypes.node,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleCloseModal);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleCloseModal);\n  }\n\n  handleCloseModal = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleOverlayClose = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.handleOverlayClose}>\n        <div className=\"Modal\">{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Modal from '../Modal';\n\nexport class ImageGalleryItem extends Component {\n  state = {\n    modal: false,\n  };\n\n  static propTypes = {\n    id: PropTypes.number.isRequired,\n    picture: PropTypes.node.isRequired,\n    modalPicture: PropTypes.node.isRequired,\n  };\n\n  toglleModal = () => {\n    this.setState(({ modal }) => ({ modal: !modal }));\n  };\n\n  handleModal = e => {\n    if (this.props.id === +e.target.id) {\n      this.toglleModal();\n    }\n  };\n\n  render() {\n    const { modal } = this.state;\n    const { id, modalPicture, picture } = this.props;\n\n    return (\n      <li className=\"ImageGalleryItem\" key={id}>\n        {modal && (\n          <Modal onClose={this.toglleModal}>\n            <img\n              onClick={this.handleModal}\n              id={id}\n              src={modalPicture}\n              alt={id}\n              className=\"ImageGalleryItem-image\"\n            />\n          </Modal>\n        )}\n        <img\n          onClick={this.handleModal}\n          id={id}\n          src={picture}\n          alt={id}\n          className=\"ImageGalleryItem-image\"\n        />\n      </li>\n    );\n  }\n}\n\nexport default ImageGalleryItem;\n","import React, { Component } from 'react';\n// import { toast } from 'react-toastify';\nimport PropTypes from 'prop-types';\nimport axios from 'axios';\nimport Loader from 'react-loader-spinner';\nimport Button from '../Button';\nimport ImageGalleryItem from '../ImageGalleryItem';\n\nconst KEY = '23540624-9aec9adb1c30af208be906523';\n\nexport class ImageGallery extends Component {\n  state = {\n    images: [],\n    page: 1,\n    scroll: false,\n    error: '',\n    status: 'idle',\n  };\n\n  static propTypes = {\n    searchValue: PropTypes.string.isRequired,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.searchValue !== this.props.searchValue) {\n      this.setState({ status: 'pending', images: [], scroll: false });\n\n      this.fetchingData();\n    }\n  }\n\n  fetchingData = () => {\n    axios\n      .get(\n        `https://pixabay.com/api/?q=${this.props.searchValue}&page=${this.state.page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n      )\n      .then(response => {\n        if (response.data.hits.length === 0) {\n          // toast('Not valid input! Try again!');\n          alert('Not valid input! Try again!');\n        }\n\n        this.setState(prevState => ({\n          images: [...prevState.images, ...response.data.hits],\n          loading: false,\n          page: prevState.page + 1,\n          status: 'resolved',\n        }));\n\n        if (this.state.scroll) {\n          this.handleScroll();\n        }\n      })\n      .catch(error => this.setState({ error, status: 'rejected' }));\n  };\n\n  handleScroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  handleButton = () => {\n    this.setState({ scroll: true });\n    this.fetchingData();\n  };\n\n  render() {\n    if (this.state.status === 'idle') {\n      return null;\n    }\n    if (this.state.status === 'pending') {\n      return (\n        <Loader\n          type=\"ThreeDots\"\n          color=\"#00BFFF\"\n          height={100}\n          width={100}\n          timeout={3000}\n          className=\"Loader\"\n        />\n      );\n    }\n\n    if (this.state.status === 'rejected') {\n      return <h2>{this.state.error}</h2>;\n    }\n\n    if (this.state.status === 'resolved') {\n      return (\n        <div>\n          <ul className=\"ImageGallery\">\n            {/* <!-- Набор <li> с изображениями --> */}\n            {this.state.images.map(item => (\n              <ImageGalleryItem\n                key={item.id}\n                id={item.id}\n                picture={item.webformatURL}\n                modalPicture={item.largeImageURL}\n              />\n            ))}\n          </ul>\n\n          {this.state.images.length > 0 && (\n            <div className=\"DivButton\">\n              <Button data={this.handleButton} />\n            </div>\n          )}\n        </div>\n      );\n    }\n  }\n}\n\nexport default ImageGallery;\n","import React, { Component } from 'react';\n// import { ToastContainer } from 'react-toastify';\n\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\n\nclass App extends Component {\n  state = {\n    text: '',\n  };\n\n  handleSearchbarInput = arg => {\n    this.setState({ text: arg });\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.handleSearchbarInput} />\n        <ImageGallery searchValue={this.state.text} />\n        {/* <ToastContainer position=\"top-center\" autoClose={3000} /> */}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}